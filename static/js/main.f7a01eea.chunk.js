(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,n){e.exports=n(42)},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(13),l=n.n(r),s=(n(32),n(21)),c=n.n(s),o=(n(33),n(7)),u=n(1),d=n(2),p=n(3),b=n(5),g=n(4),h=n(6),m=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"new-recipe"},i.a.createElement("form",null,i.a.createElement("h2",{className:"top-bar"},this.props.topBar),this.props.editableTitle?i.a.createElement("input",{className:"rename-list",onChange:function(t){return e.props.onUpdateTitle(t.target.value)},onKeyDown:this.props.onTitleEnterKey,onBlur:this.props.onTitleBlur,value:this.props.title,onFocus:function(e){return e.target.select()},autoFocus:!0,required:!0}):i.a.createElement("div",null,i.a.createElement("h2",null,i.a.createElement("span",{onClick:this.props.onTitleClick,className:"recipe-title"},""===this.props.title?"<Recipe-Name>":this.props.title))),i.a.createElement("div",{className:"servings"},this.props.editableServings?i.a.createElement("input",{onChange:function(t){return e.props.onUpdateServings(t.target.value)},onKeyDown:this.props.onServingsEnterKey,onBlur:this.props.onServingsBlur,value:this.props.servings,type:"number",min:"1",step:"1",onFocus:function(e){return e.target.select()},autoFocus:!0}):i.a.createElement("h2",{className:"servings",onClick:this.props.onServingsClick}," Serves: .... ",this.props.servings))))}}]),t}(i.a.Component),v=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){var t=this,n=this.props.ingredients,a=["kg","gr","ml","litre","tsp","tbsp","cup","lbs","oz","units"];return i.a.createElement("div",null,i.a.createElement("div",null," ",i.a.createElement("input",{className:"button",type:"submit",value:"Add ingredient",onClick:this.props.onAddIngredient})),i.a.createElement("table",{className:"new-ingredients-table"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null,"ingredient"),i.a.createElement("th",null,"Qty."),i.a.createElement("th",null,"Unit")),Object.keys(n).map(function(e){return i.a.createElement("tr",{key:"ingredient-row-"+e},"name"===n[e].editable?i.a.createElement("td",null,i.a.createElement("input",{className:"name",id:e,value:n[e].name,onChange:function(e){return t.props.onTableChange(e)},onKeyDown:t.props.onTableEnterKey,onBlur:t.props.onTableBlur,onFocus:function(e){return e.target.select()},autoFocus:!0})):i.a.createElement("td",{id:e,className:"name",onClick:t.props.onTableClick},n[e].name),i.a.createElement("td",null,"qty"===n[e].editable?i.a.createElement("input",{className:"qty",id:e,type:"number",min:"0",value:n[e].qty,onChange:function(e){return t.props.onTableChange(e)},onKeyDown:t.props.onTableEnterKey,onBlur:t.props.onTableBlur,onFocus:function(e){return e.target.select()},autoFocus:!0,required:!0}):i.a.createElement("span",{id:e,className:"qty",onClick:t.props.onTableClick},n[e].qty)),i.a.createElement("td",null,"unit"===n[e].editable?i.a.createElement("select",{type:"list",name:"unit",className:"unit",id:e,onChange:t.props.onTableChange,onBlur:t.props.onTableBlur},a.map(function(e){return i.a.createElement("option",{key:"unit-list-item-"+e},e)})):i.a.createElement("span",{id:e,className:"unit",onClick:t.props.onTableClick},n[e].unit)))}))))}}]),t}(i.a.Component),E=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return i.a.createElement("div",null,i.a.createElement(v,{onAddIngredient:this.props.onAddIngredient,ingredients:this.props.ingredients,onTableChange:this.props.onTableChange,onTableClick:this.props.onTableClick,onTableEnterKey:this.props.onTableEnterKey,onTableBlur:this.props.onTableBlur}))}}]),t}(i.a.Component),T=n(10),y=n(8),f=n.n(y),O=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).handleSubmit=function(e){var t=n.props.title,a=n.props.servings,i=n.props.ingredients,r=f.a.entries(i),l=f.a.values(i);""===t?alert("Please supply a recipe name"):l.filter(function(e){return"new ingredient"===e.name}).length>0?alert("Please supply an ingredient name"):0===r.length&&i.constructor===Object?alert("Please supply ingredients"):(n.props.addRecipe(t,{title:t,editableTitle:!1,servings:a,editableServings:!1,ingredients:i}),n.props.onSubmitReset())},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{className:"button",onClick:this.handleSubmit},"submit"))}}]),t}(i.a.Component),j=Object(T.b)(null,{addRecipe:function(e,t){return{type:"ADD_RECIPE",payload:{recipe:e,content:t}}}})(O),S=n(26),k={date:function(e){var t=e.split("/"),n=Object(S.a)(t,3),a=n[0],i=n[1],r=n[2];return"".concat(r,"-").concat(a,"-").concat(i)},uppercase:function(e){return e.toUpperCase()},integer:function(e){return parseInt(e)},float:function(e){return parseFloat(e)}},C=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleTitleClick=function(){return n.setState({editableTitle:!n.state.editableTitle})},n.handleTitleEnterKey=function(e){13===(e.keyCode||e.which)&&n.setState({editableTitle:!n.state.editableTitle})},n.handleTitleBlur=function(){return n.state.editableTitle?n.setState({editableTitle:!n.state.editableTitle}):null},n.updateTitle=function(e){n.setState({title:e})},n.handleServingsClick=function(){n.setState({editableServings:!n.state.editableServings})},n.handleServingsEnterKey=function(e){13===(e.keyCode||e.which)&&n.setState({editableServings:!n.state.editableServings})},n.handleServingsBlur=function(){return n.state.editableServings?n.setState({editableServings:!n.state.editableServings}):null},n.updateServings=function(e){n.setState({servings:k.integer(e)})},n.handleAddIngredient=function(){var e=++n.nextid;n.setState({ingredients:Object(u.a)({},n.state.ingredients,Object(o.a)({},e,{name:"new ingredient",qty:1,unit:"Kg",editable:null}))})},n.handleTableClick=function(e){var t=n.state.ingredients,a=e.target,i=a.className,r=parseInt(a.id);n.setState({ingredients:Object(u.a)({},t,Object(o.a)({},r,Object(u.a)({},t[r],{editable:i})))})},n.handleTableEnterKey=function(e){var t=n.state.ingredients,a=e.target,i=parseInt(a.id);13===(e.keyCode||e.which)&&n.setState({ingredients:Object(u.a)({},t,Object(o.a)({},i,Object(u.a)({},t[i],{editable:null})))})},n.handleTableBlur=function(e){var t=n.state.ingredients,a=e.target,i=parseInt(a.id);n.setState({ingredients:Object(u.a)({},t,Object(o.a)({},i,Object(u.a)({},t[i],{editable:null})))})},n.handleTableChange=function(e){var t=e.target,a=t.value,i=parseInt(t.id),r=n.state.ingredients,l=t.className;switch(l){case"qty":n.setState({ingredients:Object(u.a)({},r,Object(o.a)({},i,Object(u.a)({},r[i],Object(o.a)({},l,k.float(a)))))});break;default:n.setState({ingredients:Object(u.a)({},r,Object(o.a)({},i,Object(u.a)({},r[i],Object(o.a)({},l,a))))})}},n.handleSubmitReset=function(){return n.setState(Object(u.a)({},n.defaultState))},n.nextid=0,n.defaultState={editableTitle:!1,title:"",editableServings:!1,servings:1,ingredients:{},list:[]},n.state=n.defaultState,n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"new-recipe"},i.a.createElement(m,{topBar:"Add new recipe",editableTitle:this.state.editableTitle,editableServings:this.state.editableServings,title:this.state.title,onTitleClick:this.handleTitleClick,onTitleEnterKey:this.handleTitleEnterKey,onTitleBlur:this.handleTitleBlur,onUpdateTitle:this.updateTitle,servings:this.state.servings,onServingsClick:this.handleServingsClick,onServingsEnterKey:this.handleServingsEnterKey,onServingsBlur:this.handleServingsBlur,onUpdateServings:this.updateServings}),i.a.createElement(E,{onAddIngredient:this.handleAddIngredient,ingredients:this.state.ingredients,onTableChange:this.handleTableChange,onTableClick:this.handleTableClick,onTableEnterKey:this.handleTableEnterKey,onTableBlur:this.handleTableBlur}),i.a.createElement("div",null,i.a.createElement(j,{title:this.state.title,servings:this.state.servings,ingredients:this.state.ingredients,onSubmitReset:this.handleSubmitReset})))}}]),t}(i.a.Component),N=(n(39),"pick a recipe to edit"),B=function(e){var t=function(e){return e.recipes}(e),n=function(e){return e.selections.selectedRecipe.recipe?e.selections.selectedRecipe.recipe:N}(e);return f.a.values(t).filter(function(e){return e.title===n})},I=function(e){return e.selections.selectedRecipe.recipe&&e.recipes?f.a.values(B(e))[0]:{}},w=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){setTimeout(function(){n.props.selectRecipe(e),n.props.editRecipe(n.props.selected)},100)},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.recipes;return i.a.createElement("div",{className:"recipe-list"},i.a.createElement("h2",{className:"title"},"The recipes"),i.a.createElement("div",{className:"recipe-list-block"},f.a.keys(t).map(function(t){return i.a.createElement("button",{className:"recipe-list-item",key:"recipe-"+t,onClick:function(){return e.handleClick(t)}},t)})))}}]),t}(i.a.Component);var R=Object(T.b)(function(e){return{recipes:e.recipes,selected:I(e)}},{editRecipe:function(e){return{type:"EDIT_RECIPE",payload:{recipe:e}}},selectRecipe:function(e){return{type:"SELECT_RECIPE",payload:{recipe:e}}}})(w),_=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).handleGetIngredients=function(e){return e||{}},n.handleGetServings=function(e){return e||0},n.handleGetTitle=function(e){return e||""===e?e:N},n.handleTitleClick=function(e){return e.target.innerHTML!==N?n.props.toggleTitle(e.target.innerHTML):null},n.handleUpdateTitle=function(e){n.props.updateTitle(e)},n.handleTitleEnterKey=function(e){13===(e.keyCode||e.which)&&n.props.toggleTitle()},n.handleTitleBlur=function(){return n.props.edited.editableTitle?n.props.toggleTitle():null},n.handleServingsEnterKey=function(e){13===(e.keyCode||e.which)&&n.props.toggleServings()},n.handleServingsClick=function(e){return 0!==e?n.props.toggleServings():null},n.handleUpdateServings=function(e){return n.props.updateServings(k.integer(e))},n.handleServingsBlur=function(){return n.props.edited.editableServings?n.props.toggleServings():null},n.handleTableClick=function(e){n.props.edited.ingredients;var t=e.target,a=t.className,i=parseInt(t.id);n.props.toggleTable(i,a)},n.handleTableEnterKey=function(e){n.props.edited.ingredients;var t=e.target,a=parseInt(t.id);13===(e.keyCode||e.which)&&n.props.toggleTable(a,null)},n.handleTableBlur=function(e){n.props.edited.ingredients;var t=e.target,a=parseInt(t.id);n.props.toggleTable(a,null)},n.handleTableChange=function(e){var t=e.target,a=t.value,i=parseInt(t.id),r=(n.props.edited.ingredients,t.className);switch(r){case"qty":n.props.updateTable(i,r,k.float(a));break;default:n.props.updateTable(i,r,a)}},n.handleResetEdit=function(){return n.props.resetEdit()},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){var t=this;return i.a.createElement("div",{className:"edit-recipe"},i.a.createElement(m,{topBar:"Edit recipe",title:this.handleGetTitle(this.props.edited.title),editableTitle:this.props.edited.editableTitle,editableServings:this.props.edited.editableServings,servings:this.handleGetServings(this.props.edited.servings),onTitleClick:this.handleTitleClick,onTitleEnterKey:this.handleTitleEnterKey,onTitleBlur:this.handleTitleBlur,onUpdateTitle:this.handleUpdateTitle,onServingsClick:function(){return t.handleServingsClick(t.props.edited.servings)},onUpdateServings:this.handleUpdateServings,onServingsEnterKey:this.handleServingsEnterKey,onServingsBlur:this.handleServingsBlur}),i.a.createElement(K,{key:"ingredients-"+this.props.edited.title,ingredients:this.handleGetIngredients(this.props.edited.ingredients),onTableClick:this.handleTableClick,onTableEnterKey:this.handleTableEnterKey,onTableBlur:this.handleTableBlur,onTableChange:this.handleTableChange}),i.a.createElement(j,{title:this.props.edited.title,servings:this.props.edited.servings,ingredients:this.props.edited.ingredients,onSubmitReset:this.handleResetEdit}),i.a.createElement("button",{className:"button",onClick:this.handleResetEdit},"Cancel"))}}]),t}(i.a.Component),K=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return i.a.createElement("div",null,i.a.createElement(v,{onAddIngredient:this.props.onAddIngredient,ingredients:this.props.ingredients,onTableChange:this.props.onTableChange,onTableClick:this.props.onTableClick,onTableEnterKey:this.props.onTableEnterKey,onTableBlur:this.props.onTableBlur}))}}]),t}(i.a.Component),q=Object(T.b)(function(e){var t;return{edited:(t=e).editedRecipe.recipe?t.editedRecipe.recipe:{}}},{toggleTitle:function(e){return{type:"TOGGLE_TITLE",payload:{title:e}}},toggleServings:function(e,t){return{type:"TOGGLE_SERVINGS",payload:{title:e,servings:t}}},updateTitle:function(e){return{type:"UPDATE_TITLE",payload:{title:e}}},updateServings:function(e){return{type:"UPDATE_SERVINGS",payload:{servings:e}}},toggleTable:function(e,t){return{type:"TOGGLE_TABLE",payload:{id:e,className:t}}},updateTable:function(e,t,n){return{type:"UPDATE_TABLE",payload:{id:e,className:t,value:n}}},resetEdit:function(){return{type:"RESET_EDIT"}}})(_),A=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.products;return i.a.createElement("div",null,i.a.createElement("h2",null,"Stored Ingredients:"),i.a.createElement("li",null,f.a.keys(e).map(function(t){return i.a.createElement("p",null,t+", available formats: "+e[t].map(function(e){return e.qty+" "+e.unit+". "})," ")})))}}]),t}(i.a.Component),D=Object(T.b)(function(e){return{products:e.pantry.pantry}})(A);function G(){return i.a.createElement("button",null,"cook")}var U=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}),i.a.createElement(G,null),i.a.createElement("h2",{className:"App-title"},"Weekly shopping")),i.a.createElement("div",{className:"recipes-panel"},i.a.createElement(C,null),i.a.createElement(R,null),i.a.createElement(q,null)),i.a.createElement("div",{className:"ingredientsDB"},i.a.createElement(D,null)))},L=n(23),P=n(9),F=n(19),V=n(24),x=n.n(V),X=n(25),H=n.n(X),J={"rice pudding":{title:"rice pudding",servings:2,editableTitle:!1,editableServings:!1,ingredients:{1:{name:"rice",qty:50,unit:"gr",editable:null},2:{name:"unsalted butter",qty:25,unit:"gr",editable:null},3:{name:"whole milk",qty:500,unit:"ml",editable:null},4:{name:"caster sugar",qty:25,unit:"gr",editable:null}}},"mash potatoes":{title:"mash potatoes",editableTitle:!1,editableServings:!1,servings:5,ingredients:{1:{name:"potatoes",qty:1,unit:"kg",editable:null},2:{name:"whole milk",qty:250,unit:"ml",editable:null},3:{name:"butter",qty:50,unit:"gr",editable:null},4:{name:"salt",qty:2,unit:"gr",editable:null}}}},M={selectedRecipe:{}},z=n(18),Q={recipe:{}},W={pantry:{salt:[{qty:1,unit:"kg"},{qty:500,unit:"gr"}],rice:[{qty:1,unit:"kg"}],"unsalted butter":[{qty:250,unit:"gr"}],"salted butter":[{qty:250,unit:"gr"}],"whole milk":[{qty:1,unit:"litre"}],"semiskimmed milk":[{qty:1,unit:"litre"}],"caster sugar":[{qty:1,unit:"kg"}],potatoes:[{qty:2,unit:"kg"},{qty:3,unit:"kg"},{qty:5,unit:"kg"}]}},Y=Object(P.b)({recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECIPE":var n=t.payload,a=n.recipe,i=n.content;return Object(u.a)({},e,e.recipes,Object(o.a)({},a,i));default:return e}},selections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_RECIPE":var n=t.payload.recipe;return Object(u.a)({},e,{selectedRecipe:{recipe:n}});default:return e}},editedRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_RECIPE":return{recipe:t.payload.recipe};case"TOGGLE_TITLE":return Object(z.a)(t.payload),Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{editableTitle:!e.recipe.editableTitle})});case"TOGGLE_SERVINGS":return Object(z.a)(t.payload),Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{editableServings:!e.recipe.editableServings})});case"UPDATE_TITLE":var n=t.payload.title;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{title:n})});case"UPDATE_SERVINGS":var a=t.payload.servings;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{servings:a})});case"TOGGLE_TABLE":var i=t.payload,r=i.id,l=i.className;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{ingredients:Object(u.a)({},e.recipe.ingredients,Object(o.a)({},r,Object(u.a)({},e.recipe.ingredients[r],{editable:l})))})});case"UPDATE_TABLE":var s=t.payload,c=s.id,d=s.className,p=s.value;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{ingredients:Object(u.a)({},e.recipe.ingredients,Object(o.a)({},c,Object(u.a)({},e.recipe.ingredients[c],Object(o.a)({},d,p))))})});case"RESET_EDIT":return Object(u.a)({},e,{recipe:{}});default:return e}},pantry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":var n=t.payload;return{product:n.product,formats:n.formats};default:return e}}}),Z={key:"root",storage:x.a,stateReconciler:H.a},$=Object(F.a)(Z,Y),ee=Object(P.c)($,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),te=Object(F.b)(ee);l.a.render(i.a.createElement(T.a,{store:ee},i.a.createElement(L.a,{loading:null,persistor:te},i.a.createElement(U,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f7a01eea.chunk.js.map