{"version":3,"sources":["logo.svg","components/RecipeTopLevel.js","constants/shared.js","constants/placeholders.js","redux/selectors.js","components/RecipeIngredientsTable.js","components/NewRecipeIngredientsTable.js","components/SubmitRecipe.js","redux/actions.js","redux/actionTypes.js","utilities/parsers.js","components/NewRecipe.js","components/RecipeList.js","components/EditRecipe.js","components/Select.js","components/Controller.js","components/Tooltip.js","components/Product.js","components/AddProduct.js","components/IngredientsDB.js","components/Cell.js","components/ShoppingList.js","components/WeeklyView.js","App.js","redux/reducers/recipes.js","redux/reducers/selections.js","redux/reducers/edited.js","redux/reducers/pantry.js","redux/reducers/week.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["module","exports","__webpack_require__","p","RecipeTopLevel","_this","this","react_default","a","createElement","className","props","topBar","editableTitle","onChange","e","onUpdateTitle","target","value","onKeyDown","onTitleEnterKey","onBlur","onTitleBlur","title","onFocus","select","autoFocus","required","onClick","onTitleClick","editableServings","onUpdateServings","onServingsEnterKey","onServingsBlur","servings","type","min","step","onServingsClick","React","Component","unitSet","editRecipeTitlePH","getRecipes","store","recipes","getSelectedFromRecipes","selectedRecipeTitle","selections","selectedRecipe","recipe","getSelectedRecipe","_","values","filter","getSelectedToEdit","getProducts","pantry","getWeek","week","RecipeIngredientsTable","ingredients","onAddIngredient","Object","keys","map","k","key","editable","id","list","name","onTableChange","onTableEnterKey","onTableBlur","product","onTableClick","qty","u","unit","connect","state","NewRecipeIngredientsTable","components_RecipeIngredientsTable","SubmitRecipe","handleSubmit","_entries","entries","_values","alert","v","length","constructor","addRecipe","onSubmitReset","content","payload","inputParsers","date","input","_input$split","split","_input$split2","slicedToArray","month","day","year","concat","uppercase","toUpperCase","integer","parseInt","float","parseFloat","NewRecipe","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleTitleClick","setState","handleTitleEnterKey","keyCode","which","handleTitleBlur","updateTitle","handleServingsClick","handleServingsEnterKey","handleServingsBlur","updateServings","handleAddIngredient","nextid","objectSpread","defineProperty","handleTableClick","event","idx","handleTableEnterKey","handleTableBlur","handleTableChange","handleSubmitReset","defaultState","RecipeTopLevel_RecipeTopLevel","NewRecipeIngredientsTable_NewRecipeIngredientsTable","components_SubmitRecipe","RecipeList","handleClick","setTimeout","selectRecipe","editRecipe","selected","_this2","EditRecipe","handleGetIngredients","handleGetServings","handleGetTitle","innerHTML","toggleTitle","handleUpdateTitle","edited","toggleServings","handleUpdateServings","toggleTable","updateTable","addIngredient","handleResetEdit","resetEdit","EditRecipe_EditRecipeIngredientsTable","EditRecipeIngredientsTable","editedRecipe","Select","selectedElement","createRef","_this$props","children","open","cloneElement","ref","displayName","Tooltip","styles","wrapper","position","display","zIndex","color","cursor","tooltip","minWidth","maxWidth","background","bottom","left","marginBottom","padding","WebkitTransform","msTransform","OTransform","transform","fontSize","arrow","width","height","marginLeft","borderLeft","borderRight","borderTop","gap","mergeStyles","userStyles","forEach","assign","show","setVisibility","hide","visible","handleTouch","assignOutsideTouchHandler","document","addEventListener","handler","currentNode","componentNode","ReactDOM","findDOMNode","refs","instance","parentNode","removeEventListener","onMouseEnter","onMouseLeave","onTouchStart","style","Product","handleToggleEdit","handleUpdateInput","handleOnEnter","productTitle","updateProductTitle","editableProductTitle","addFormat","handleRemoveProduct","window","confirm","removeProduct","handleRemoveFormat","removeFormat","fmts","fmt","indexOf","products","newTitle","AddProduct","handleEdit","handleUpdate","handleToggle","addProduct","formats","IngredientsDB","handleHover","initialState","zipObject","whiteRoundedStyle","flexAlign","backgroundColor","lineHeight","borderRadius","opacity","src_components_AddProduct","Tooltip_Tooltip","src_components_Product","Cell","handleRemoveMeal","removeCell","cellID","field","toggleField","updateCell","handleEnterKey","titleCase","handleBlur","string","charAt","slice","editableDish","dish","addCell","CalcDishes","weekArray","allMeals","undefined","_ref","_ref2","ingredient","isEmpty","ShoppingList_CalcDishes","EmptyCell","WeeklyView","mealsByDay","weekday","entry","startsWith","weekdays","longestColumn","max","cell","src_components_Cell","range","row","WeeklyView_EmptyCell","components_ShoppingList","App","NewRecipe_NewRecipe","src_components_RecipeList","components_EditRecipe","components_WeeklyView","src_components_IngredientsDB","rice pudding","1","2","3","4","mash potatoes","salt","rice","unsalted butter","salted butter","whole milk","semiskimmed milk","caster sugar","potatoes","combineReducers","arguments","action","_action$payload","objectDestructuringEmpty","_action$payload2","existingIngredients","newState","_action$payload3","toConsumableArray","_action$payload4","i","biggerThanRemoved","includes","splitKey","renameKey","persistConfig","storage","stateReconciler","autoMergeLevel2","blacklist","pReducer","persistReducer","rootReducer","createStore","__REDUX_DEVTOOLS_EXTENSION__","persistor","persistStore","render","es","integration_react","loading","src_App","getElementById"],"mappings":"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","file":"static/js/main.c69c7186.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react'  ;\nimport PropTypes from 'prop-types';\n\nexport default class RecipeTopLevel extends React.Component {\n  render() {\n    return(\n      <div className='new-recipe'>\n        <form>\n      <h2 className='top-bar'>{this.props.topBar}</h2>\n        {this.props.editableTitle ?\n          <input\n            className=\"rename-list\"\n            onChange={e => this.props.onUpdateTitle(e.target.value)}\n            onKeyDown={this.props.onTitleEnterKey}\n            onBlur={this.props.onTitleBlur}\n            value={this.props.title}\n            onFocus={e => e.target.select()}\n            autoFocus\n            required>\n          </input>\n          :\n          <div>\n            <h2>\n              <span onClick={this.props.onTitleClick}\n                    className=\"recipe-title\"\n              >{this.props.title === '' ?\n                '<Recipe-Name>':\n                this.props.title}\n              </span>\n            </h2>\n          </div>}\n\n        <div \n          className='servings'>\n          {this.props.editableServings ?\n            <input onChange={e => this.props.onUpdateServings(e.target.value)}\n                   onKeyDown={this.props.onServingsEnterKey}\n                   onBlur={this.props.onServingsBlur}\n                   value={this.props.servings}\n                   type='number'\n                   min='1'\n                   step='1'\n                   onFocus={e => e.target.select()}\n                   autoFocus></input>\n            :\n            <h2 className='servings' onClick={this.props.onServingsClick}> Serves: .... {this.props.servings}</h2>}\n      </div>\n      </form>\n      </div>);\n  }\n}\n\nRecipeTopLevel.propTypes = {\n  servings: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired\n};\n","export const unitSet = ['kg', 'gr', 'ml', 'litre', 'tsp', 'tbsp', 'cup', 'lbs', 'oz', 'units' ];\n","//namespace for place holders that are being reused in the app. \n//like editRecipeTitlePH that is refered to also as an argument in later conditionals\n\nexport const editRecipeTitlePH = 'pick a recipe to edit';\n\n","import _ from 'lodash';\nimport { editRecipeTitlePH } from '../constants/placeholders';\n\nexport const getRecipes = store => store.recipes;\n\nexport const getEdited = store =>\n\tstore.editedRecipe.recipe ?\n\tstore.editedRecipe.recipe :\n\t{};\n\nexport const getSelectedRecipe = store => \n\tstore.selections.selectedRecipe.recipe ?\n\tstore.selections.selectedRecipe.recipe :\n\teditRecipeTitlePH;\n\nexport const getSelectedFromRecipes = store => {\n\tconst recipes = getRecipes(store);\n\tconst selectedRecipeTitle = getSelectedRecipe(store);\n\treturn _.values(recipes).filter(recipe => (recipe.title === selectedRecipeTitle));\n};\n\nexport const getSelectedServings = store => {\n\treturn( \n\t\tstore.selections.selectedRecipe.recipe && store.recipes ?\n\t\t\t_.values(getSelectedFromRecipes(store))[0].servings :\n\t\t\t'' );};\n\nexport const getSelectedIngredients = store => {\n\treturn (\n\t\tstore.selections.selectedRecipe.recipe && store.recipes ?\n\t\t\t_.values(getSelectedFromRecipes(store))[0].ingredients :\n\t\t\t{}\n\t);\n};\n\nexport const getSelectedEditableServings = store => {\n\treturn( \n\t\tstore.selections.selectedRecipe.recipe && store.recipes ?\n\t\t\t_.values(getSelectedFromRecipes(store))[0].editablservings :\n\t\t\t'' );};\n\nexport const getSelectedEditableTitle = store => {\n\treturn( \n\t\tstore.selections.selectedRecipe.recipe && store.recipes ?\n\t\t\t_.values(getSelectedFromRecipes(store))[0].editableTitle :\n\t\t\t'' );};\n\nexport const getSelectedToEdit = store => {\n\treturn (\n\t\tstore.selections.selectedRecipe.recipe && store.recipes ?\n\t\t\t_.values(getSelectedFromRecipes(store))[0] : {}\n\t);};\n\nexport const getProducts = store => {\n\treturn (\n\t\tstore.pantry);\n};\n\nexport const getWeek = store => \n\t\tstore.week;\n\nexport const getWeekArray = store => \n\t_.keys(getWeek(store)).map(key =>  (\n\t\t[store.week[key].dish,\n\t\tstore.week[key].servings\n\t])\n\t);\n\t\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { unitSet } from '../constants/shared';\nimport { getProducts } from '../redux/selectors';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nclass RecipeIngredientsTable extends React.Component {\n\t\n  render(props) {\n    const ingredients = this.props.ingredients;\n\n    return(\n      <div>\n        <div> <input className='button'\n                     type='submit'\n                     value='Add ingredient'\n                     onClick={this.props.onAddIngredient}\n              />\n        </div>\n        <table className='new-ingredients-table'>\n          <tbody>\n            <tr>\n              <th>ingredient</th>\n              <th>Qty.</th>\n              <th>Unit</th>\n            </tr>\n            {Object.keys(ingredients).map((k) => (\n              <tr key={'ingredient-row-' + k}>\n                {ingredients[k].editable === 'name' ?\n                  <td><input\n                        className='name'\n                        id={k}\n                        list='pantry'\n                        value={ingredients[k].name}\n                        onChange={e => this.props.onTableChange(e)}\n                        onKeyDown={this.props.onTableEnterKey}\n                        onBlur={this.props.onTableBlur}\n                        onFocus={e => e.target.select()}\n                        autoFocus />\n                    <datalist id='pantry'>\n                      {_.keys(this.props.pantry).map(\n                        product => <option>{product}</option>)}\n                    </datalist>\n                 </td> :\n                  <td\n                    id={k}\n                    className='name'\n                    onClick={this.props.onTableClick}\n                  >{ingredients[k].name}</td> }\n                \n                <td>\n                  {ingredients[k].editable === 'qty' ?\n                    <input\n                      className='qty'\n                      id={k}\n                      type='number'\n                      min='0'\n                      value={ingredients[k].qty}\n                      onChange={e => this.props.onTableChange(e)}\n                      onKeyDown={this.props.onTableEnterKey}\n                      onBlur={this.props.onTableBlur}\n                      onFocus={e => e.target.select()}\n                      autoFocus\n                      required></input> :\n                    <span\n                      id={k}\n                      className='qty'\n                      onClick={this.props.onTableClick}\n                    >{ingredients[k].qty}</span> }\n                </td>\n                <td\n                  \n                >{ingredients[k].editable === 'unit' ?\n                  <select\n                    type='list'\n                    name='unit'\n                    className='unit'\n                    id={k}\n                    onChange={this.props.onTableChange}\n                    onBlur={this.props.onTableBlur}>\n                    {unitSet.map((u) => (<option key={'unit-list-item-' + u} >{u}</option>))}\n                  </select>\n                  :\n                  <span\n                    id={k}\n                    className='unit'\n                    onClick={this.props.onTableClick}\n                  >{ingredients[k].unit}</span> }</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>);\n  }\n}\n\nRecipeIngredientsTable.propTypes = {\n  qty: PropTypes.number,\n  unit: PropTypes.string,\n  name: PropTypes.string\n  \n};\n\nconst mapToProps = state => {\n  const pantry = getProducts(state);\n  return {\npantry\n  };\n};\n\nexport default connect(mapToProps)(RecipeIngredientsTable);\n","import React from 'react';\nimport RecipeIngredientsTable from './RecipeIngredientsTable';\n\nexport default class NewRecipeIngredientsTable extends React.Component {\n\n\n\trender(props) {\n    return(\n      <div>\n        <RecipeIngredientsTable\n        onAddIngredient={this.props.onAddIngredient}\n          ingredients={this.props.ingredients}\n          onTableChange={this.props.onTableChange}\n          onTableClick={this.props.onTableClick}\n          onTableEnterKey={this.props.onTableEnterKey}\n          onTableBlur={this.props.onTableBlur}/>\n      </div>\n\t  );\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { addRecipe } from '../redux/actions.js';\nimport _ from 'lodash';\n\nclass SubmitRecipe extends React.Component {\n  \n  handleSubmit = (props) => {\n    const title = this.props.title;\n    const servings = this.props.servings;\n    const ingredients = this.props.ingredients;\n    const _entries = _.entries(ingredients);\n    const _values = _.values(ingredients); \n    //check that title has a value\n    if (title === '')\n    { alert('Please supply a recipe name'); }\n    //check that ingredient object is not empty and `name` property was given a value.\n    else if ( _values.filter((v) => (v.name === 'new ingredient')).length > 0) {\n      alert ( 'Please supply an ingredient name' );\n    } else if ( _entries.length === 0 && ingredients.constructor === Object){\n      alert ( 'Please supply ingredients');\n    } else {\n      this.props.addRecipe(\n        title, {\n          title: title,\n          editableTitle: false,\n          servings: servings,\n          editableServings: false,\n          ingredients: ingredients});\n      this.props.onSubmitReset();\n    };\n  }\n\n  render() {\n    return(\n      <div>\n        <button\n          className='button'\n      /* onClick={this.handleSubmit} */\n          onClick={this.handleSubmit}\n        >submit</button>\n      </div>);\n  }\n}\n\n\n\n\nexport default connect(null, { addRecipe })(SubmitRecipe);\n","import { ADD_RECIPE, SELECT_RECIPE, TOGGLE_TITLE, TOGGLE_SERVINGS, UPDATE_TITLE, UPDATE_SERVINGS, EDIT_RECIPE, TOGGLE_TABLE, UPDATE_TABLE, RESET_EDIT, ADD_INGREDIENT, ADD_PRODUCT, REMOVE_PRODUCT, UPDATE_PRODUCT_TITLE, ADD_FORMAT, REMOVE_FORMAT, ADD_CELL, REMOVE_CELL, TOGGLE_FIELD, UPDATE_CELL } from './actionTypes';\n\n// let nextRecipeId = 1;\n\nexport const addRecipe = ( recipe, content ) => ({\n\t\ttype: ADD_RECIPE,\n\t\tpayload: {\n\t\t\t\trecipe,\n\t\t\t\tcontent\n\t\t}\n});\n\nexport const selectRecipe = ( recipe ) => ({\n\ttype: SELECT_RECIPE,\n\tpayload: {\n\t\trecipe}\n});\n\n\nexport const toggleTitle = ( title ) => ({\n\ttype: TOGGLE_TITLE,\n\tpayload: {\n\t\ttitle}\n});\n\nexport const toggleServings = ( title, servings ) => ({\n\ttype: TOGGLE_SERVINGS,\n\tpayload: {\n\t\ttitle,\n\t\tservings}\n});\n\nexport const updateTitle = ( title ) => ({\n\ttype: UPDATE_TITLE,\n\tpayload: {\n\t\ttitle}\n});\n\nexport const updateServings = ( servings ) => ({\n\ttype: UPDATE_SERVINGS,\n\tpayload: {\n\t\tservings}\n});\n\nexport const editRecipe = ( recipe ) => ({\n\ttype: EDIT_RECIPE,\n\tpayload: {\n\t\trecipe\n\t}\n});\n\nexport const toggleTable = ( id, className ) => ({\n\ttype: TOGGLE_TABLE,\n\tpayload: {\n\t\tid,\n\t\tclassName}\n\t});\n\nexport const updateTable = ( id, className, value ) => ({\n\ttype: UPDATE_TABLE,\n\tpayload: {\n\t\tid,\n\t\tclassName,\n\t\tvalue}\n});\n\nexport const resetEdit = () => ({\n\ttype: RESET_EDIT\n});\n\nexport const addIngredient = () => ({\n\ttype: ADD_INGREDIENT\n});\n\n\nexport const addProduct = ( product, formats ) => ({\n\ttype: ADD_PRODUCT,\n\tpayload: {\n\t\tproduct,\n\t\tformats\n\t}\n});\n\nexport const removeProduct = ( product ) => ({\n\ttype: REMOVE_PRODUCT,\n\tpayload: {\n\t\tproduct\n\t}\n});\n\nexport const updateProductTitle = ( product, newTitle ) => ({\n\ttype: UPDATE_PRODUCT_TITLE,\n\tpayload: {\n\t\tproduct,\n\t\tnewTitle\n\t}\n});\n\nexport const addFormat = ( product, qty, unit ) => ({\n\ttype: ADD_FORMAT,\n\tpayload: {\n\t\tproduct,\n\t\tqty,\n\t\tunit\n\t}\n});\n\nexport const removeFormat = ( product, id ) => ({\n\ttype: REMOVE_FORMAT,\n\tpayload: {\n\t\tproduct,\n\t\tid\n\t}\n});\n\nexport const addCell = ( cellID ) => ({\n\ttype: ADD_CELL,\n\tpayload: {\n\t\tcellID}\n});\n\nexport const removeCell = ( cellID ) => ({\n\ttype: REMOVE_CELL,\n\tpayload: {\n\t\tcellID }\n});\n\nexport const toggleField = ( cellID, field ) => ({\n\ttype: TOGGLE_FIELD,\n\tpayload: {\n\t\tcellID,\n\t\tfield}\n});\n\nexport const updateCell = ( cellID, field, value ) => ({\n\ttype: UPDATE_CELL,\n\tpayload: {\n\t\tcellID,\n\t\tfield,\n\t\tvalue}\n});\n\t\n","export const ADD_RECIPE = \"ADD_RECIPE\";\nexport const SELECT_RECIPE = \"SELECT_RECIPE\";\nexport const TOGGLE_TITLE = \"TOGGLE_TITLE\";\nexport const TOGGLE_SERVINGS = \"TOGGLE_SERVINGS\";\nexport const UPDATE_TITLE = \"UPDATE_TITLE\";\nexport const UPDATE_SERVINGS = \"UPDATE_SERVINGS\";\nexport const EDIT_RECIPE = \"EDIT_RECIPE\";\nexport const TOGGLE_TABLE = \"TOGGLE_TABLE\";\nexport const UPDATE_TABLE = \"UPDATE_TABLE\";\nexport const RESET_EDIT = \"RESET_EDIT\";\nexport const ADD_INGREDIENT = \"ADD_INGREDIENT\";\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const REMOVE_PRODUCT = \"REMOVE_PRODUCT\";\nexport const ADD_FORMAT = \"ADD_FORMAT\";\nexport const REMOVE_FORMAT = \"REMOVE_FORMAT\";\nexport const ADD_CELL = \"ADD_CELL\";\nexport const REMOVE_CELL = \"REMOVE_CELL\";\nexport const TOGGLE_FIELD = \"TOGGLE_FIELD\";\nexport const UPDATE_CELL = \"UPDATE_CELL\";\nexport const UPDATE_PRODUCT_TITLE = \"UPDATE_PRODUCT_TITLE\";\n","export const inputParsers = {\n  date(input) {\n    const [month, day, year] = input.split('/');\n    return `${year}-${month}-${day}`;\n  },\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n\tinteger(input) {\n\t\treturn parseInt(input);\n  },\n\tfloat(input) {\n\t\treturn parseFloat(input);\n\t}\n};\n\n\n\n","import React from 'react';\nimport RecipeTopLevel from './RecipeTopLevel';\nimport NewRecipeIngredientsTable from './NewRecipeIngredientsTable';\nimport SubmitRecipe from './SubmitRecipe';\nimport { inputParsers }  from '../utilities/parsers';\n// import { addRecipe } from '../redux/reducers/index.js';\n\nexport default class NewRecipe extends React.Component {\n\n  constructor (props) {\n    super(props);\n    this.nextid = 0;  //for the counter to work the let must be defined outside of the handler  \n    this.defaultState = {\n      editableTitle: false,\n      title: '',\n      editableServings: false,\n      servings: 1,\n      ingredients: {},\n      list: []\n    };\n    this.state = this.defaultState;\n    \n  }\n  \n  handleTitleClick = () => \n    this.setState({editableTitle: !this.state.editableTitle});\n\n  handleTitleEnterKey = (e) => {\n    const keyCode = e.keyCode || e.which;\n    if (keyCode === 13) {\n      this.setState({editableTitle: !this.state.editableTitle});\n    }}\n\n  handleTitleBlur = () => \n    this.state.editableTitle ?\n    this.setState({editableTitle: !this.state.editableTitle}) : null;\n\n  updateTitle = title => {\n    this.setState({ title });\n  }\n\t\n  handleServingsClick = () => {\n    this.setState({editableServings: !this.state.editableServings});\n  }\n\n  handleServingsEnterKey = (e) => {\n    const keyCode = e.keyCode || e.which;\n    if (keyCode === 13) {\n      this.setState({editableServings: !this.state.editableServings});\n    }}\n\n  handleServingsBlur = () => \n    this.state.editableServings ?\n    this.setState({editableServings: !this.state.editableServings}) : null;\n\n  updateServings = servings => {\n    this.setState({ servings: inputParsers.integer(servings) });\n  }\n\n  handleAddIngredient = () => {\n    let id = ++this.nextid;\n    this.setState({ingredients: {...this.state.ingredients, [id]: { name: 'new ingredient', qty: 1, unit: 'kg', editable: null}}});\n  }\n\n  handleTableClick  = (event) => {\n    const ingredients = this.state.ingredients;\n    const target = event.target;\n    const className = target.className;\n    let idx = parseInt(target.id);\n    this.setState({ingredients:\n      {...ingredients, [idx]: {...ingredients[idx] , editable: className}}});\n\t}\n\n  handleTableEnterKey = (event) => {\n    const  ingredients = this.state.ingredients;\n    const target = event.target;\n    let idx = parseInt(target.id);\n    const keyCode = event.keyCode || event.which;\n    if (keyCode === 13) {\n      this.setState({ingredients:\n        {...ingredients, [idx]: {...ingredients[idx] , editable: null}}});\n    }\n  }\n\n  handleTableBlur = (event) => {\n    const  ingredients = this.state.ingredients;\n    const target = event.target;\n    let idx = parseInt(target.id);\n    this.setState({ingredients:\n      {...ingredients, [idx]: {...ingredients[idx] , editable: null}}});\n  }\n\t\n  handleTableChange = (event) => {\n\n    const target = event.target;\n    const value = target.value;\n    const idx = parseInt(target.id);\n    const ingredients = this.state.ingredients;\n    const className = target.className;    \n\t\t  switch (className) {\n        case 'qty':\n          this.setState({ingredients:\n            {...ingredients, [idx]: {...ingredients[idx] ,\n              [className]: inputParsers.float(value) }}});\n\t\t\t\t  break;\n\t\t\t  default:\n\t\t\t\t  this.setState({ingredients:\n            {...ingredients, [idx]: {...ingredients[idx] ,\n              [className]: value }}});\n\t\t  }\n    }\n  ;\n  \n  \n\n  handleSubmitReset = () =>\n    this.setState({...this.defaultState});\n  \n  \n  render() {\n    return (\n      <div className='new-recipe'>\n        <RecipeTopLevel\n          topBar={'Add new recipe'}\n          editableTitle={this.state.editableTitle}\n          editableServings={this.state.editableServings}\n          title={this.state.title}\n          onTitleClick={this.handleTitleClick}\n          onTitleEnterKey={this.handleTitleEnterKey}\n          onTitleBlur={this.handleTitleBlur}\n          onUpdateTitle={this.updateTitle}\n          servings={this.state.servings}\n          onServingsClick={this.handleServingsClick}\n          onServingsEnterKey={this.handleServingsEnterKey}\n          onServingsBlur={this.handleServingsBlur}\n          onUpdateServings={this.updateServings}/>\n\n\n        <NewRecipeIngredientsTable\n          onAddIngredient={this.handleAddIngredient}\n          ingredients={this.state.ingredients}\n          onTableChange={this.handleTableChange}\n          onTableClick={this.handleTableClick}\n          onTableEnterKey={this.handleTableEnterKey}\n          onTableBlur={this.handleTableBlur}\n        />\n        <div>\n          <SubmitRecipe\n            title={this.state.title}\n            servings={this.state.servings}\n            ingredients={this.state.ingredients}\n            onSubmitReset={this.handleSubmitReset}/>\n        </div>\n      </div>\n    );\n  }\n  \n}\n","import React from 'react';\nimport './RecipeList.css';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { editRecipe, selectRecipe } from '../redux/actions';\nimport { getSelectedToEdit } from '../redux/selectors';\nclass  RecipeList extends React.Component {\n\n  handleClick = (recipe) => {\n    setTimeout(() => {\n    this.props.selectRecipe(recipe);\n      this.props.editRecipe(this.props.selected);}, 100);\n  }\n  \n  render (){\n    const recipes = this.props.recipes;\n\n\t\treturn(\n\t\t\t<div className='recipe-list'>\n        <h2 className='title'>The recipes</h2>\n        <div className='recipe-list-block'>\n          {_.keys(recipes).map((id) =>\n            <button className='recipe-list-item'\n                    key={'recipe-' + id}\n                    onClick={() => this.handleClick(id)}\n            >{id}</button>)}  \n        </div>\n      </div>\n    );\n\t}\n}\n\n\n//REACT_REDUX BIT:\n\nfunction mapStateToProps(state) {\n  return {\n    recipes: state.recipes,\n    selected: getSelectedToEdit(state)\n  };\n}\n\nexport default connect(mapStateToProps, { editRecipe, selectRecipe })(RecipeList);\n","import  React  from 'react';\nimport { connect } from 'react-redux';\nimport _ from  'lodash';\nimport RecipeTopLevel from './RecipeTopLevel.js';\nimport RecipeIngredientsTable from './RecipeIngredientsTable';\nimport SubmitRecipe from './SubmitRecipe';\nimport { toggleTitle, toggleServings, updateTitle, updateServings, toggleTable, updateTable, resetEdit, addIngredient } from '../redux/actions';\nimport { getEdited } from '../redux/selectors';\nimport { editRecipeTitlePH } from '../constants/placeholders';\nimport { inputParsers } from '../utilities/parsers';\nclass EditRecipe extends React.Component {\n\n  handleGetIngredients = ( ingredients ) =>\n    ingredients ?\n    ingredients  :\n    {};\n\n  handleGetServings = ( servings ) =>\n    servings ?\n    servings : 0;\n\n  handleGetTitle = ( title ) =>\n    title || title === '' ?\n    title :\n    editRecipeTitlePH;\n  \n  handleTitleClick = (e) =>\n    e.target.innerHTML !== editRecipeTitlePH ?\n    this.props.toggleTitle(e.target.innerHTML) :\n    null;\n\n  handleUpdateTitle = ( title ) => {\n    this.props.updateTitle( title );\n  }\n \n  handleTitleEnterKey = (e) => {\n    const keyCode = e.keyCode || e.which;\n    if (keyCode === 13) {\n      this.props.toggleTitle();\n    }}\n\n    handleTitleBlur = () =>\n    this.props.edited.editableTitle ?\n    this.props.toggleTitle() : null;\n\n  \n  handleServingsEnterKey = (e) => {\n    const keyCode = e.keyCode || e.which;\n    if (keyCode === 13) {\n      this.props.toggleServings();\n    }}\n\n  \n  handleServingsClick = ( servings ) =>\n    servings !== 0 ?\n    this.props.toggleServings() :\n    null;\n\n  handleUpdateServings =  servings  =>\n    this.props.updateServings( inputParsers.integer(servings) );\n\n  handleServingsBlur = () =>\n    this.props.edited.editableServings ?\n    this.props.toggleServings() : null;\n\n  handleTableClick  = (event) => {\n    const ingredients = this.props.edited.ingredients;\n    const target = event.target;\n    const className = target.className;\n    let idx = parseInt(target.id);\n    this.props.toggleTable( idx, className );\n\t}\n\n    handleTableEnterKey = (event) => {\n    const  ingredients = this.props.edited.ingredients;\n    const target = event.target;\n    let idx = parseInt(target.id);\n    const keyCode = event.keyCode || event.which;\n      if (keyCode === 13) {\n        this.props.toggleTable( idx, null );\n    }\n  }\n\n    handleTableBlur = (event) => {\n    const  ingredients = this.props.edited.ingredients;\n    const target = event.target;\n    let idx = parseInt(target.id);\n      this.props.toggleTable( idx, null );\n    }\n\n    handleTableChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const idx = parseInt(target.id);\n    const ingredients = this.props.edited.ingredients;\n    const className = target.className;    \n\t\t  switch (className) {\n        case 'qty':\n          this.props.updateTable(idx, className, inputParsers.float(value));\n\t\t\t\t  break;\n\t\t\t  default:\n          this.props.updateTable(idx, className, value);\n\t\t  }\n    }\n  ;\n\n  handleAddIngredient = () =>\n    this.props.addIngredient();\n  \n  handleResetEdit = () =>\n    this.props.resetEdit();\n\n  \n\trender(props) {\n\n\t\treturn (\n        <div className='edit-recipe'>\n          <RecipeTopLevel\n            topBar={'Edit recipe'}\n            title={this.handleGetTitle(this.props.edited.title)}\n            editableTitle={this.props.edited.editableTitle}\n            editableServings={this.props.edited.editableServings}\n            servings={this.handleGetServings(this.props.edited.servings)}\n            onTitleClick={this.handleTitleClick}\n            onTitleEnterKey={this.handleTitleEnterKey}\n            onTitleBlur={this.handleTitleBlur}\n            onUpdateTitle={this.handleUpdateTitle}\n            onServingsClick={() => this.handleServingsClick(this.props.edited.servings)}\n            onUpdateServings={this.handleUpdateServings}\n            onServingsEnterKey={this.handleServingsEnterKey}\n            onServingsBlur={this.handleServingsBlur}\n          />\n          <EditRecipeIngredientsTable\n            key={'ingredients-' + this.props.edited.title}\n            ingredients={this.handleGetIngredients(this.props.edited.ingredients)}\n            onTableClick={this.handleTableClick}\n            onTableEnterKey={this.handleTableEnterKey}\n            onTableBlur={this.handleTableBlur}\n            onTableChange={this.handleTableChange}\n            onAddIngredient={this.handleAddIngredient}\n      /* {this.handleGetIngredients} */\n          />\n          <SubmitRecipe\n            title={this.props.edited.title}\n            servings={this.props.edited.servings}\n            ingredients={this.props.edited.ingredients}\n            onSubmitReset={this.handleResetEdit}\n          />\n          <button\n            className='button'\n            onClick= {this.handleResetEdit}\n          >Cancel</button>\n        </div>\n      \n    );\n  }\n}\n\nclass EditRecipeIngredientsTable extends React.Component {\n\n\trender(props) {\n    return(\n      <div>\n        <RecipeIngredientsTable\n          onAddIngredient={this.props.onAddIngredient}\n          ingredients={this.props.ingredients}\n          onTableChange={this.props.onTableChange}\n          onTableClick={this.props.onTableClick}\n          onTableEnterKey={this.props.onTableEnterKey}\n          onTableBlur={this.props.onTableBlur}\n        />\n      </div>\n\t  );\n  }\n}\n\n//REACT-REDUX\n\nconst mapStateToProps = state => {\n  // const { selectedRecipe, recipes } = state;\n  const edited = getEdited(state);\n  // const ingredients = {1:{name: 'foo', unit: 'kg', qty: 99}};\n  return {\n    edited\n  };\n};\n\nexport default connect(mapStateToProps, { toggleTitle, toggleServings, updateTitle, updateServings, toggleTable, updateTable, resetEdit, addIngredient })(EditRecipe);\n\n\n\n","import React from 'react';\n\nclass Select extends React.Component{\n  static displayName = \"Select\"\n\n\tconstructor(){\n\t\tsuper();\n\t\tthis.selectedElement = React.createRef();\n\t}\n\t\n  render(){\n    const { children, open } = this.props;\n    return React.cloneElement(children, {ref: this.selectedElement, onClick: open});\n  }\n}\n\nexport default Select;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Controller extends React.Component{\n  constructor(props) {\n    super(props);\n  \n    this.state = {\n      isOpen: false,\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0\n      }\n    };\n  }\n  \n  open = () => {\n    this.setState({isOpen: true});\n  }\n  \n  close = () => {\n    this.setState({isOpen: false});\n  }\n\n  getPos = (left, top, height) => {\n    this.setState(prevState => (\n      {style: {...prevState.style, left, top: top + height}}));\n  }\n  \n  render(){\n    const { children } = this.props;\n    const { isOpen, style } = this.state;\n\n    const inputChildren = React.Children.map(children, child => {\n      if(child.type.displayName === \"Select\"){\n        return React.cloneElement(child, {open: this.open});\n      }\n      else{\n        return isOpen && ReactDOM.createPortal(\n          <span style={style}>React.cloneElement(child)</span>, document.body);\n      }\n    });\n\n    return inputChildren;\n  }\n}\n\nexport default Controller;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nexport default class Tooltip extends React.Component {\n  static propTypes = {\n    children: PropTypes.any.isRequired,\n    content: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.array,\n    ]),\n    styles: PropTypes.object\n  }\n\n  styles = {\n    wrapper: {\n      position: 'relative',\n      display: 'inline-block',\n      zIndex: '98',\n      color: '#555',\n      cursor: 'help'\n    },\n    tooltip: {\n      position: 'absolute',\n      zIndex: '99',\n      minWidth: '200px',\n      maxWidth: '420px',\n      background: '#000',\n      bottom: '100%',\n      left: '50%',\n      marginBottom: '10px',\n      padding: '5px',\n      WebkitTransform: 'translateX(-50%)',\n      msTransform: 'translateX(-50%)',\n      OTransform: 'translateX(-50%)',\n      transform: 'translateX(-50%)'\n    },\n    content: {\n      background: '#000',\n      color: '#fff',\n      display: 'inline',\n      fontSize: '.8em',\n      padding: '.3em 1em'\n    },\n    arrow: {\n      position: 'absolute',\n      width: '0',\n      height: '0',\n      bottom: '-5px',\n      left: '50%',\n      marginLeft: '-5px',\n      borderLeft: 'solid transparent 5px',\n      borderRight: 'solid transparent 5px',\n      borderTop: 'solid #000 5px'\n    },\n    gap: {\n      position: 'absolute',\n      width: '100%',\n      height: '20px',\n      bottom: '-20px'\n    },\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false\n    };\n    if (props.styles) this.mergeStyles(props.styles);\n  }\n\n  mergeStyles = (userStyles) => {\n    Object.keys(this.styles).forEach((name) => {\n      Object.assign(this.styles[name], userStyles[name]);\n    });\n  }\n\n  show = () => this.setVisibility(true);\n\n  hide = () => this.setVisibility(false);\n\n  setVisibility = (visible) => {\n    this.setState(Object.assign({}, this.state, {\n      visible\n    }));\n  }\n\n  handleTouch = () => {\n    this.show();\n    this.assignOutsideTouchHandler();\n  }\n\n  assignOutsideTouchHandler = () => {\n    const handler = (e) => {\n      let currentNode = e.target;\n      const componentNode = ReactDOM.findDOMNode(this.refs.instance);\n      while (currentNode.parentNode) {\n        if (currentNode === componentNode) return;\n        currentNode = currentNode.parentNode;\n      }\n      if (currentNode !== document) return;\n      this.hide();\n      document.removeEventListener('touchstart', handler);\n    };\n    document.addEventListener('touchstart', handler);\n  }\n\n  render() {\n    const {props, state, styles, show, hide, handleTouch} = this;\n    return (\n      <div\n        onMouseEnter={show}\n        onMouseLeave={hide}\n        onTouchStart={handleTouch}\n        ref=\"wrapper\"\n        style={styles.wrapper}>\n        {props.children}\n        {\n          state.visible &&\n          <div ref=\"tooltip\" style={styles.tooltip}>\n            <div ref=\"content\" style={styles.content}>{props.content}</div>\n            <div ref=\"arrow\" style={styles.arrow} />  \n            <div ref=\"gap\" style={styles.gap} />\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { getProducts } from '../redux/selectors';\nimport { connect } from 'react-redux';\nimport { addFormat, removeProduct, updateProductTitle, removeFormat } from '../redux/actions';\nimport { unitSet } from '../constants/shared';\nimport './Product.css';\n\nclass Product extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      productTitle: this.props.product,\n      qty: 0,\n      unit: 'kg',\n      editable: false,\n      editableProductTitle: false};\n\n    this.state = this.defaultState;\n  }\n\n  handleToggleEdit = (key) => {\n    this.setState({[key]: !this.state.editable});\n  }\n\n  handleUpdateInput = ( key, e ) => {\n    const value = e.target.value;\n    this.setState({[key]: value});\n  }\n\n  handleOnEnter = (e) => {\n    const product = this.props.product;\n    const keyCode = e.keyCode || e.which;\n    if (keyCode === 13) {\n      //check that productTitle changed since `updateProductTitle` deletes the original product.\n      if (product !== this.state.productTitle) {\n        this.props.updateProductTitle( product, this.state.productTitle );}\n      this.setState({editableProductTitle: !this.state.editableProductTitle});\n    }\n  }\n\n  \n  handleSubmit = () => {\n    const product = this.props.product;\n    const qty = this.state.qty;\n    const unit = this.state.unit;\n    this.props.addFormat(product, qty, unit);\n    this.setState({editable: !this.state.editable});\n  };\n\n  handleRemoveProduct = () => {\n    const conf = window.confirm('this will remove the product from the inventory. go a head?');\n    return (conf ?\n      this.props.removeProduct(this.props.product) :\n      null);\n  }\n\n  handleRemoveFormat = (id) => {\n    this.props.removeFormat(this.props.product, id);}\n  \n  render() {\n    const product = this.props.product;\n    const fmts = this.props.fmts;\n\t\treturn (\n      <div>\n        <p className='remove-button'\n              onClick= {this.handleRemoveProduct}\n        >X</p>\n        {!this.state.editableProductTitle ?\n        <h2 onClick={() => this.handleToggleEdit('editableProductTitle')} //the key to be toggled\n        >{product}</h2>\n          : <input\n              value={this.state.productTitle}\n              onChange={e => this.handleUpdateInput('productTitle', e)}\n              onKeyDown={(e) => this.handleOnEnter(e)}\n            autoFocus></input>}\n        <p>Available formats:</p>\n        {fmts.map(fmt =>\n          <div className='format-div'>\n            <li>{fmt.qty + ' ' + fmt.unit}</li>\n            {/* FIX: doesn't seem to work */}\n            <p onClick={() => this.handleRemoveFormat(fmts.indexOf(fmt))}>x</p>\n          </div>)}\n      {!this.state.editable ?\n        <h3 onClick={() => this.handleToggleEdit('editable')}//the key to be toggled\n        >Add Format</h3>\n        :\n        <div>\n        <input type='number' min={1} \n               className='qty'\n               value={this.state.qty}\n               onChange={e => this.handleUpdateInput('qty', e)}\n               ></input>\n          <select\n            value={this.state.unit}\n            onChange={e => this.handleUpdateInput('unit', e)}>\n          {unitSet.map((u) => (<option key={'unit-list-item-' + u} >{u}</option>))}\n          </select>\n          <button\n            className='button'\n            onClick = {this.handleSubmit}\n          >submit</button>\n        </div>}\n      </div>\n\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n  const products = getProducts(state);\nreturn {\n  products};\n};\n\nexport default connect(mapStateToProps, { addFormat, removeProduct, updateProductTitle, removeFormat })(Product);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { addProduct } from '../redux/actions';\nimport { unitSet } from '../constants/shared';\nimport './AddProduct.css';\nclass AddProduct extends React.Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.defaultState = {\n      editable: false,\n      editableTitle: true,\n\t\t\ttitle: '',\n\t\t\tqty: 0,\n      unit: 'kg'\n\t\t};\n    this.state = this.defaultState;\n\t}\n\n  handleEdit = () => {\n    this.setState({editable: !this.state.editable});\n  }\n\n  handleUpdate = (key, e) => {\n    const value = e.target.value;\n    this.setState({[key]: value});\n  }\n\n  handleToggle = () => {\n    this.setState({editableTitle: !this.editableTitle});\n  }\n\n  handleTitleEnterKey = (e) => {\n    const keyCode = e.keyCode || e.which;\n    if (keyCode === 13) {\n      this.setState({editableTitle: !this.state.editableTitle});\n    }}\n\n  handleSubmit = () => {\n    this.props.addProduct(this.state.title, [{qty: this.state.qty, unit: this.state.unit}]);\n    this.setState(this.defaultState);\n  }\n  \n\trender(){\n  return(<div>\n           {!this.state.editable ?\n             <h2 className='button'\n                 onClick={this.handleEdit}\n             >{'<add a product>'}</h2> :\n             <div className='add-product-box'\n               //closes the box when clicking outside:\n                  // onBlur={this.handleEdit}\n             > \n               <h2>adding a product</h2>\n               {this.state.editableTitle ?\n                 <div>\n                 <label>product name</label>\n                   <input\n                     value={this.state.title}\n                     onChange={(e) => this.handleUpdate('title', e)}\n                     onKeyDown={(e) =>this.handleTitleEnterKey(e)}\n                 ></input>\n                 </div>\n                 :\n                 <div><h2 onClick={this.handleToggle}>{this.state.title}</h2></div>}\n               <div>\n                 <label>format:</label>\n                 <input type='number'\n                        min={0}\n                        onChange={(e) => this.handleUpdate('qty', e)}></input>\n                 <select\n                   onChange={(e) => this.handleUpdate('unit' ,e)}\n                 >{unitSet.map(unit => <option>{unit}</option> )}</select>\n               </div>\n               <button\n                 className='button'\n                 onClick={this.handleSubmit}\n               >Submit</button>\n               <p className='cancel-button'\n                  onClick={this.handleEdit}>cancel</p>\n             </div>}\n         </div>);\n\t};\n}\n\nexport default connect(null, { addProduct })(AddProduct);\n\n","import React from 'react';\nimport { getProducts } from '../redux/selectors';\nimport { connect } from 'react-redux';\nimport Controller from './Controller';\nimport Select from './Select';\nimport Tooltip from './Tooltip';\nimport Product from './Product';\nimport AddProduct from './AddProduct';\nimport './IngredientsDB.css';\nimport _ from 'lodash';\n\nclass IngredientsDB extends React.Component {\n\n  constructor(props) {\n    super(props);\n    const products = _.keys(this.props.products);\n    this.initialState = _.zipObject(products, products.map(p => false));\n    this.state = this.initialState;\n  }\n    \n      \n  handleHover = ( product ) => {\n    this.setState({\n      [product]: !this.state[product]\n    });\n  };\n\n \n  render() {\n    const products = this.props.products;\n    const whiteRoundedStyle = {\n      wrapper: {\n        flexAlign: 'row',\n        display: 'inline-block',\n        cursor: 'pointer'\n      },\n      content: {\n        backgroundColor: 'white',\n        color: '#000',\n        fontSize: '1.2rem',\n        lineHeight: '150%'\n      },\n      tooltip: {\n        backgroundColor: 'white',\n        borderRadius: '10px',\n        bottom: '40%',\n        left: '100%',\n        opacity: '0.7'\n      },\n      arrow: {\n        borderLeft: 'solid white 5px'\n      }\n    };\n\n    return (\n      <div className='ingredients-head'>\n        <h2 className='ingredients-list-title'>Stored Ingredients:</h2>\n        <AddProduct />\n        {_.keys(products).map(\n          product =>\n            <Tooltip\n              content={<div>\n\n                         <Product\n                           product={product}\n                           fmts={products[product]}/>\n                       </div>}\n              styles={whiteRoundedStyle}\n            >  <p className='product'\n                  id={product}\n                  /* title={'Available formats: ' + products[product].map(fmt => fmt.qty + ' ' + fmt.unit + '. ')} */\n               >{product}</p>\n            </Tooltip>\n          \n          \n          \n) \n\n}\n        \n      </div>\n    );\n  }\n}\n\n\n      \nconst mapStateToProps = state => {\n  const products = getProducts(state);\n  return {\n    products\n  };\n};\n\nexport default connect(mapStateToProps)(IngredientsDB);\n","import React from 'react';\nimport './Cell.css';\nimport { getRecipes, getWeek } from '../redux/selectors';\nimport { addCell, removeCell, toggleField, updateCell } from '../redux/actions';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nclass Cell extends React.Component {\n \n  //helper to capitalize the name property where necessary\n  titleCase(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n  \n  // handleAddMeal = () => {\n  //   this.setState({editable: !this.state.editable});\n  // }\n\n  handleRemoveMeal = ( id ) => {\n    this.props.removeCell( id );\n  }\n\n  handleToggleEdit = (cellID, field) =>\n    this.props.toggleField(cellID, field);\n\n  handleUpdateInput = ( e, cellID ) => {\n    const value = e.target.value;\n    const field = e.target.name;\n    this.props.updateCell(cellID, field, value);\n  }\n  \n  handleEnterKey = (e, cellID) => {\n    const keyCode = e.keyCode || e.which;\n    const field = 'editable' + this.titleCase(e.target.name);\n    if (keyCode === 13) {\n      this.props.toggleField(cellID, field);\n    }\n  }\n\n  handleBlur = (e, cellID) => {\n    const field = 'editable' + this.titleCase(e.target.name);\n    this.props.toggleField(cellID, field);\n  }\n\n  render () {\n    const cellID = this.props.cellID;\n    \n\t\treturn(\n      <div className='cell'>\n        {this.props.week[cellID] && this.props.week[cellID].editable === true\n          ? \n          <div>\n            <span\n              className='cross'\n              onClick={() => this.handleRemoveMeal(cellID)}\n            >x</span>\n            {this.props.week[cellID].editableDish === false ?\n              <h2\n                onClick={() => this.handleToggleEdit(cellID, 'editableDish')}\n                 >\n                {'Dish: ' + this.props.week[cellID].dish}</h2> :\n              <div><input\n                     type='text'\n                     name='dish'\n                     onKeyDown={(e) => this.handleEnterKey(e, cellID)}\n                     onChange={e => this.handleUpdateInput(e, cellID)}\n                     onBlur={(e) => this.handleBlur(e, cellID)}\n                     list='dishes'\n                     value={this.props.week.dish}\n                   autoFocus/>\n                 <datalist id='dishes'>\n                   {_.keys(this.props.recipes).map(recipe => (\n                     <option value={recipe} />))}\n                </datalist>\n              </div>\n              }\n          {this.props.week[cellID].editableServings === false ?\n            <h2\n              onClick={() => this.handleToggleEdit(cellID, 'editableServings')}\n            >{'Servings:' + this.props.week[cellID].servings}</h2>\n            :\n            <input\n              name='servings'\n              type='number'\n              value={this.props.week[cellID].servings}\n              min='1'\n              step='1'\n              onKeyDown={(e) => this.handleEnterKey(e, cellID)}\n              onChange={e => this.handleUpdateInput(e, cellID)}\n              onFocus={e => e.target.select()}\n              onBlur={(e) => this.handleBlur(e, cellID)}\n              autoFocus\n            ></input>}\n          </div>\n          :\n          <p\n            className='plus'\n            onClick=\n              {() => this.props.addCell( cellID ) }\n              /* {this.handleAddMeal} */\n          >+</p>\n        }\n      </div>\n    );\n  }\n}\n\t\nconst mapStateToProps = state => {\n  const recipes = getRecipes(state);\n  const week = getWeek(state);\n  return {\n    recipes,\n    week\n  };\n  \n};\n\n\nexport default connect(mapStateToProps, { addCell, removeCell, toggleField, updateCell })(Cell);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getWeekArray, getProducts, getRecipes, getWeek } from '../redux/selectors';\nimport _ from 'lodash';\n\nconst CalcDishes = (props) => {\n  const weekArray = props.weekArray;\n  const products = props.products;\n  const recipes = props.recipes;\n  const week = props.week;\n\n  const allMeals = (weekArray && weekArray !== undefined) ?\n        weekArray.map( ([dish, servings])  =>\n          recipes[dish] ? _.keys(recipes[dish].ingredients).map(\n            ingredient =>\n              (<p>{\n                recipes[dish].ingredients[ingredient].name + ' ' +\n                  recipes[dish].ingredients[ingredient].qty *\n                  (servings /\n                    recipes[dish].servings) + ' ' +\n                  recipes[dish].ingredients[ingredient].unit\n              }</p>)) : dish)\n        : \"nothing here...\";\n            \n  // const allIngredients = allMeals ?\n  //       allMeals.map(meal =>\n  //   recipes[meal.dish] ?\n  //   recipes[meal.dish].ingredients\n  //         : null) : null;\n  \n  return (<div>{allMeals}</div>);\n};\n\n\nconst ShoppingList = (props) => {\n\n  const weekArray = props.weekArray;\n  \n  return(\n    <div>\n      <h2 className='button'>Show me the shopping list for this week, please.</h2>\n      {_.isEmpty(weekArray) ?\n       <p>'waiting...'</p>\n        :\n        <CalcDishes\n          week={props.week}\n          weekArray={props.weekArray}\n          products={props.products}\n          recipes={props.recipes} />}\n      \n    </div>);\n\t\n\n};\n\nconst mapStateToProps = state => {\n  const week = getWeek(state);\n  const weekArray = getWeekArray(state);\n  const products = getProducts(state);\n  const recipes = getRecipes(state);\n  return {\n    week,\n    weekArray,\n    products,\n    recipes\n  };\n};\n\n\nexport default connect(mapStateToProps)(ShoppingList);\n","import React from 'react';\nimport Cell from './Cell';\nimport ShoppingList from './ShoppingList';\nimport { getWeek } from '../redux/selectors';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nconst EmptyCell = () =>\n      (<div >\n       </div>);\n\nclass WeeklyView extends React.Component {\n\n  // FIX -> find a way to look for day value as a predicate to return  all the day's entries or empty..\n  mealsByDay = ( weekday ) => {\n    \n    const entries= _.keys(this.props.week).filter( entry => (entry.startsWith(weekday)));\n    return entries;\n      \n  }\n  \nrender(){\n  const weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n  const longestColumn = _.max(weekdays.map(weekday => this.mealsByDay(weekday).length));\n\t\treturn(\n      <div>\n        <table>\n          <thead>\n            <tr className='top-bar'>{weekdays.map(day => \n              (<td className='weekly-view-header'><h2 >{day}</h2></td>))}\n            </tr>\n          </thead>\n          <tbody>\n            {/* first row */}\n            <tr className='weekly-view-cell'>\n                {weekdays.map(cell =>\n                  <td>\n                   <Cell\n                     cellID={cell + '-1'} \n                     key={cell + '-1'}\n                   />\n                  </td>)\n                }</tr>\n            {/* consecutive rows */}\n            {_.range(2, _.max([2, longestColumn + 2]) + 1).map(row =>\n              <tr className='weekly-view-cell'>\n                {weekdays.map(weekday =>\n                  this.mealsByDay(weekday)\n                  && this.mealsByDay(weekday).length + 1 >= row\n                  ?\n                  <td>\n                   <Cell\n                     cellID={weekday + '-' + row} \n                     key={weekday + '-' + row}\n                   />\n                     </td>\n                : \n                     <td>\n                  <EmptyCell />\n                        </td>\n                )}\n              </tr>)}\n            \n          </tbody>\n        </table>\n        <ShoppingList />\n\t\t\t</div>\n    );\n\t}\n}\n\nconst mapToProps = ( state ) => {\n  return {\n    week: getWeek(state)\n  };\n}; \n\nexport default connect(mapToProps)(WeeklyView);\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport NewRecipe from './components/NewRecipe';\nimport RecipeList from './components/RecipeList';\nimport EditRecipe from './components/EditRecipe';\nimport IngredientsDB from './components/IngredientsDB';\nimport WeeklyView from './components/WeeklyView';\nfunction ColorBtn() {\n  return (\n    <button>cook</button>\n  );\n\n} ;\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        {/* <img src={logo} className=\"App-logo\" alt=\"logo\" /> */}\n        {/* <ColorBtn /> */}\n        <h2 className='App-title'>Weekly shopping</h2>\n      </header>\n      \n      <div className='controls'>\n        <div>\n        <div className='recipes-panel'>\n          <NewRecipe />\n          <RecipeList />\n          <EditRecipe />\n        </div>\n       \n     \n      <div className='ingredientsDB'>\n        <WeeklyView />\n      </div>\n        </div>\n       <IngredientsDB />\n      </div>\n    </div>\n    \n  );\n}\n\nexport default App;\n","import _ from 'lodash';\nimport { ADD_RECIPE } from \"../actionTypes\";\n\nconst initialState = {\n\t\n\t'rice pudding': {\n\t\ttitle: 'rice pudding',\n\t\tservings: 2,\n\t\teditableTitle: false,\n\t\teditableServings: false,\n\t\tingredients: {\n\t\t\t1: {\n\t\t\t\tname: 'rice',\n\t\t\t\tqty: 50,\n\t\t\t\tunit: 'gr',\n\t\t\t\teditable: null},\n\t\t\t2: {\n\t\t\t\tname: 'unsalted butter',\n\t\t\t\tqty: 25,\n\t\t\t\tunit: 'gr',\n\t\t\t\teditable: null},\n\t\t\t3: {\n\t\t\t\tname: 'whole milk',\n\t\t\t\tqty: 500,\n\t\t\t\tunit: 'ml',\n\t\t\t\teditable: null},\n\t\t\t4: {\n\t\t\t\tname: 'caster sugar',\n\t\t\t\tqty: 25,\n\t\t\t\tunit: 'gr',\n\t\t\t\teditable: null}\n\t\t\t\n\t\t}\n\t},\n\t'mash potatoes': {\n\t\ttitle: 'mash potatoes',\n\t\teditableTitle: false,\n\t\teditableServings: false,\n\t\tservings: 5,\n\t\tingredients: {\n\t\t\t1: {\n\t\t\t\tname: 'potatoes',\n\t\t\t\tqty: 1,\n\t\t\t\tunit: 'kg',\n\t\t\t\teditable: null},\n\t\t\t2: {\n\t\t\t\tname: 'whole milk',\n\t\t\t\tqty: 250,\n\t\t\t\tunit: 'ml',\n\t\t\t\teditable: null},\n\t\t\t3: {\n\t\t\t\tname: 'butter',\n\t\t\t\tqty: 50,\n\t\t\t\tunit: 'gr',\n\t\t\t\teditable: null},\n\t\t\t4: {\n\t\t\t\tname: 'salt',\n\t\t\t\tqty: 2,\n\t\t\t\tunit: 'gr',\n\t\t\t\teditable: null}}\n\t}\n}; \n\nexport default function(state = initialState, action) {\n\tswitch (action.type) {\n    case ADD_RECIPE: {\n\t\t\tconst { recipe , content } = action.payload;\n      return {\n        ...state,\n\t\t\t\t...state.recipes,\n\t\t\t\t[recipe]: content\n      };\n    }\n\t\t\n\t\tdefault: return state;}\n}\n","import { SELECT_RECIPE } from '../actionTypes';\n\nconst initialState = {\n\tselectedRecipe: {}\n};\n\nexport default function(state = initialState, action) {\n\tswitch (action.type) {\n      case SELECT_RECIPE: {\n\t\tconst { recipe } = action.payload;\n      return {\n        ...state,\n\t\t\t\tselectedRecipe:{\n\t\t\t\trecipe\n\t\t\t\t}\n\t\t\t};\n\t\t\t}\n\t\tdefault: return state;}\n}\n","import _ from 'lodash';\nimport { EDIT_RECIPE, TOGGLE_TITLE, TOGGLE_SERVINGS, UPDATE_TITLE, UPDATE_SERVINGS, TOGGLE_TABLE, UPDATE_TABLE, RESET_EDIT, ADD_INGREDIENT } from '../actionTypes';\n\nconst initialState = {\n\trecipe: {}\n};\n\nexport default function(state = initialState, action) {\n\tswitch (action.type) {\n    case EDIT_RECIPE: {\n\t\t\tconst { recipe } = action.payload;\n      return {\n\t\t\t\trecipe\n\t\t\t};\n\t\t}\n\t\t\t\n\t\tcase TOGGLE_TITLE: {\n\t\t\tconst { } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\teditableTitle: !state.recipe.editableTitle \n\t\t\t\t}\t\n\t\t\t};\n\t\t}\n\n\tcase TOGGLE_SERVINGS: {\n\t\t\tconst { } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\teditableServings: !state.recipe.editableServings \n\t\t\t\t}\t\n\t\t\t};\n\t}\n\n\t\tcase UPDATE_TITLE: {\n\t\t\tconst { title } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\ttitle: title\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcase UPDATE_SERVINGS: {\n\t\t\tconst { servings } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\tservings: servings\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcase TOGGLE_TABLE: {\n\t\t\tconst { id, className } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\tingredients: {...state.recipe.ingredients,\n\t\t\t\t\t\t[id]: {...state.recipe.ingredients[id],\n\t\t\t\t\t\t\teditable: className\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcase UPDATE_TABLE: {\n\t\t\tconst { id, className, value } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\tingredients: {...state.recipe.ingredients,\n\t\t\t\t\t\t[id]: {...state.recipe.ingredients[id],\n\t\t\t\t\t\t\t[className]: value\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\t\n\t\n\t\tcase RESET_EDIT: {\n\t\t\treturn {...state,\n\t\t\t\trecipe: {}\n\t\t\t};\n\t\t}\n\n\t\tcase ADD_INGREDIENT: {\n\t\t\tconst existingIngredients = _.keys(state.recipe.ingredients).length;\n\t\t\treturn {...state,\n\t\t\t\trecipe: {...state.recipe,\n\t\t\t\t\tingredients: {...state.recipe.ingredients,\n\t\t\t\t\t\t[existingIngredients + 1]: {name: 'new ingredient', qty: 1, unit: 'kg'}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tdefault: return state;}\n\n}\n","import { ADD_PRODUCT, REMOVE_PRODUCT, UPDATE_PRODUCT_TITLE, ADD_FORMAT, REMOVE_FORMAT } from '../actionTypes.js';\n\nconst initialState = {\n\t\n\t\t'salt': [{qty: 1, unit: 'kg'}, {qty: 500, unit: 'gr'}],\n\t\t'rice': [{qty: 1, unit: 'kg'}],\n\t\t'unsalted butter': [{qty: 250, unit: 'gr'}],\n\t\t'salted butter': [{qty: 250, 'unit': 'gr'}],\n\t\t'whole milk': [{qty: 1, unit: 'litre'}],\n\t\t'semiskimmed milk': [{qty: 1, unit: 'litre'}],\n\t\t'caster sugar': [{qty: 1, unit: 'kg'}],\n\t\t'potatoes': [{qty: 2, unit: 'kg'}, {qty: 3, unit: 'kg'}, {qty: 5, unit: 'kg'}]};\n\nexport default function(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase ADD_PRODUCT: {\n\t\t\tconst { product, formats } = action.payload;\n\t\t\treturn {...state, \n\t\t\t\t[product]: formats };\n\t\t}\n\t\t\t\n\t\tcase REMOVE_PRODUCT: {\n\t\t\tconst { product } = action.payload;\n\t\t\tconst newState = Object.assign({}, state);\n\t\t\tdelete newState[product];\n\t\t\treturn newState;\n\t\t}\n\t\t\t\n\t\tcase UPDATE_PRODUCT_TITLE: {\n\t\t\tconst { product, newTitle } = action.payload;\n\t\t\tstate[newTitle] = state[product];\n\t\t\tdelete state[product];\n\t\t\treturn {...state\n\t\t\t\t\n\t\t\t\t };\n\t\t}\n\n\t\tcase ADD_FORMAT: {\n\t\t\tconst { product, qty, unit } = action.payload;\n\t\t\treturn{ ...state,\n\t\t\t\t[product]: [...state[product],\n\t\t\t\t\t{qty: qty, unit: unit}\n\t\t\t\t]};\n\t\t}\n\n\t\t\t//FIX -> doesn't seem to work...\n\t\tcase REMOVE_FORMAT: {\n\t\t\tconst { product, id } = action.payload;\n\t\t\treturn {...state,\n\t\t\t\t[product]: state[product].filter(i => (state[product].indexOf(i) !== id))\n\t\t\t\t\n\t\t\t};\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\n","import _ from 'lodash';\nimport { ADD_CELL, REMOVE_CELL, TOGGLE_FIELD, UPDATE_CELL } from '../actionTypes';\n\nconst initialState = {\n\t \n};\n\nfunction renameKey (key) {\n\tconst splitKey = key.split('-');\n\treturn splitKey[0] + '-' + (splitKey[1]- 1);\n}\n\nexport default function(state = initialState, action) {\n\tswitch (action.type) {\n    case ADD_CELL: {\n\t\t\tconst { cellID } = action.payload;\n      return {...state,\n\t\t\t\t[cellID]: {\n\t\t\t\t\teditable: true,\n\t\t\t\t\teditableDish: false,\n\t\t\t\t\tdish: '',\n\t\t\t\t\teditableServings: false,\n\t\t\t\t\tservings: 1\n\t\t\t\t} \n\t\t\t};\n\t\t}\n\t\t\t\n\t\tcase REMOVE_CELL: {\n\t\t\tconst { cellID } = action.payload;\n\t\t\tconst weekday = cellID.split('-')[0];\n\t\t\tconst column = _.keys(state).filter(key => key.split('-')[0] === weekday);\n\t\t\tconst biggerThanRemoved = column.filter(key => parseInt(key.split('-')[1]) > parseInt(cellID.split('-')[1]));\n\t\t\tconst newState = Object.assign({}, state);\n\t\t\tdelete newState[cellID];\n\t\t\t_.keys(newState).map(key => {\n\t\t\t\tif (biggerThanRemoved.includes(key))  {\n\t\t\t\t\tnewState[renameKey(key)] = newState[key];\n\t\t\t\t\tdelete newState[key];}});\n\t\t \n\t\t\treturn {...newState\n\t\t\t};\n\t\t\t\n\t\t}\n\n\t\tcase TOGGLE_FIELD: {\n\t\t\tconst { cellID, field } = action.payload;\n\t\t\treturn {...state,\n\t\t\t\t[cellID]: {...state[cellID],\n\t\t\t\t\t[field]: !state[cellID][field]\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcase UPDATE_CELL: {\n\t\t\tconst { cellID, field, value } = action.payload;\n\t\t\treturn {...state,\n\t\t\t\t[cellID]:{...state[cellID],\n\t\t\t\t\t[field]: value}\n\t\t\t};\n\t\t}\n\n\t\tdefault: return state;}\n\t\n}\n\t\n\n\t\n","import { combineReducers } from \"redux\";\nimport recipes from './recipes';\nimport selections from './selections';\nimport editedRecipe from './edited';\nimport pantry from './pantry';\nimport week from './week';\nexport default combineReducers({ recipes, selections, editedRecipe, pantry, week });\n","import { createStore } from \"redux\";\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\nimport rootReducer from \"./reducers\";\n\n\nconst persistConfig = {\n key: 'root',\n storage: storage,\n\tstateReconciler: autoMergeLevel2 // see \"Merge Process\" section for details.\n\t,  blacklist: ['recipes', 'week', 'pantry'] // -> look in doc.org\n};\n\nconst pReducer = persistReducer(persistConfig, rootReducer);\n\nexport const store = createStore(\n\tpReducer,\n\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\nexport const persistor = persistStore(store);\n\n\n\n//ORIGIAL STORE SETUP\n// export default createStore(rootReducer,\n// \twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n// );\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\n// import store from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistor, store } from './redux/store';\nReactDOM.render(\n\t\t<Provider store={store}>\n\t\t<PersistGate loading={null} persistor={persistor}>\n\t<App />\n  </PersistGate>\n\t</Provider>, document.getElementById('root'));\n\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}