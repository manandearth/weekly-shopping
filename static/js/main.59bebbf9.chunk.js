(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},23:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(13),l=n.n(r),s=(n(28),n(20)),c=n.n(s),o=(n(29),n(2)),u=n(1),d=n(3),p=n(4),b=n(6),g=n(5),h=n(7),v=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"new-recipe"},a.a.createElement("form",null,a.a.createElement("h2",{className:"top-bar"},this.props.topBar),this.props.editableTitle?a.a.createElement("input",{className:"rename-list",onChange:function(t){return e.props.onUpdateTitle(t.target.value)},onKeyDown:this.props.onTitleEnterKey,onBlur:this.props.onTitleBlur,value:this.props.title,onFocus:function(e){return e.target.select()},autoFocus:!0,required:!0}):a.a.createElement("div",null,a.a.createElement("h2",null,a.a.createElement("span",{onClick:this.props.onTitleClick,className:"recipe-title"},""===this.props.title?"<Recipe-Name>":this.props.title))),a.a.createElement("div",{className:"servings"},this.props.editableServings?a.a.createElement("input",{onChange:function(t){return e.props.onUpdateServings(t.target.value)},onKeyDown:this.props.onServingsEnterKey,onBlur:this.props.onServingsBlur,value:this.props.servings,type:"number",min:"1",step:"1",onFocus:function(e){return e.target.select()},autoFocus:!0}):a.a.createElement("h2",{className:"servings",onClick:this.props.onServingsClick}," Serves: .... ",this.props.servings))))}}]),t}(a.a.Component),m=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){var t=this,n=this.props.ingredients,i=["kg","gr","ml","litre","tsp","tbsp","cup","lbs","oz","units"];return a.a.createElement("div",null,a.a.createElement("div",null," ",a.a.createElement("input",{className:"button",type:"submit",value:"Add ingredient",onClick:this.props.onAddIngredient})),a.a.createElement("table",{className:"new-ingredients-table"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"ingredient"),a.a.createElement("th",null,"Qty."),a.a.createElement("th",null,"Unit")),Object.keys(n).map(function(e){return a.a.createElement("tr",{key:"ingredient-row-"+e},"name"===n[e].editable?a.a.createElement("td",null,a.a.createElement("input",{className:"name",id:e,value:n[e].name,onChange:function(e){return t.props.onTableChange(e)},onKeyDown:t.props.onTableEnterKey,onBlur:t.props.onTableBlur,onFocus:function(e){return e.target.select()},autoFocus:!0})):a.a.createElement("td",{id:e,className:"name",onClick:t.props.onTableClick},n[e].name),a.a.createElement("td",null,"qty"===n[e].editable?a.a.createElement("input",{className:"qty",id:e,type:"number",min:"0",value:n[e].qty,onChange:function(e){return t.props.onTableChange(e)},onKeyDown:t.props.onTableEnterKey,onBlur:t.props.onTableBlur,onFocus:function(e){return e.target.select()},autoFocus:!0,required:!0}):a.a.createElement("span",{id:e,className:"qty",onClick:t.props.onTableClick},n[e].qty)),a.a.createElement("td",null,"unit"===n[e].editable?a.a.createElement("select",{type:"list",name:"unit",className:"unit",id:e,onChange:t.props.onTableChange,onBlur:t.props.onTableBlur},i.map(function(e){return a.a.createElement("option",{key:"unit-list-item-"+e},e)})):a.a.createElement("span",{id:e,className:"unit",onClick:t.props.onTableClick},n[e].unit)))}))))}}]),t}(a.a.Component),T=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return a.a.createElement("div",null,a.a.createElement(m,{onAddIngredient:this.props.onAddIngredient,ingredients:this.props.ingredients,onTableChange:this.props.onTableChange,onTableClick:this.props.onTableClick,onTableEnterKey:this.props.onTableEnterKey,onTableBlur:this.props.onTableBlur}))}}]),t}(a.a.Component),E=n(10),f=n(8),y=n.n(f),O=function(e){function t(){var e,n;Object(d.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(e){var t=n.props.title,i=n.props.servings,a=n.props.ingredients,r=y.a.entries(a),l=y.a.values(a);""===t?alert("Please supply a recipe name"):l.filter(function(e){return"new ingredient"===e.name}).length>0?alert("Please supply an ingredient name"):0===r.length&&a.constructor===Object?alert("Please supply ingredients"):(n.props.addRecipe(t,{title:t,editableTitle:!1,servings:i,editableServings:!1,ingredients:a}),n.props.onSubmitReset())},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("button",{className:"button",onClick:this.handleSubmit},"submit"))}}]),t}(a.a.Component),S=Object(E.b)(null,{addRecipe:function(e,t){return{type:"ADD_RECIPE",payload:{recipe:e,content:t}}}})(O),j=n(22),C={date:function(e){var t=e.split("/"),n=Object(j.a)(t,3),i=n[0],a=n[1],r=n[2];return"".concat(r,"-").concat(i,"-").concat(a)},uppercase:function(e){return e.toUpperCase()},integer:function(e){return parseInt(e)},float:function(e){return parseFloat(e)}},k=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(b.a)(this,Object(g.a)(t).call(this,e))).handleTitleClick=function(){return n.setState({editableTitle:!n.state.editableTitle})},n.handleTitleEnterKey=function(e){13===(e.keyCode||e.which)&&n.setState({editableTitle:!n.state.editableTitle})},n.handleTitleBlur=function(){return n.state.editableTitle?n.setState({editableTitle:!n.state.editableTitle}):null},n.updateTitle=function(e){n.setState({title:e})},n.handleServingsClick=function(){n.setState({editableServings:!n.state.editableServings})},n.handleServingsEnterKey=function(e){13===(e.keyCode||e.which)&&n.setState({editableServings:!n.state.editableServings})},n.handleServingsBlur=function(){return n.state.editableServings?n.setState({editableServings:!n.state.editableServings}):null},n.updateServings=function(e){n.setState({servings:C.integer(e)})},n.handleAddIngredient=function(){var e=++n.nextid;n.setState({ingredients:Object(u.a)({},n.state.ingredients,Object(o.a)({},e,{name:"new ingredient",qty:1,unit:"Kg",editable:null}))})},n.handleTableClick=function(e){var t=n.state.ingredients,i=e.target,a=i.className,r=parseInt(i.id);n.setState({ingredients:Object(u.a)({},t,Object(o.a)({},r,Object(u.a)({},t[r],{editable:a})))})},n.handleTableEnterKey=function(e){var t=n.state.ingredients,i=e.target,a=parseInt(i.id);13===(e.keyCode||e.which)&&n.setState({ingredients:Object(u.a)({},t,Object(o.a)({},a,Object(u.a)({},t[a],{editable:null})))})},n.handleTableBlur=function(e){var t=n.state.ingredients,i=e.target,a=parseInt(i.id);n.setState({ingredients:Object(u.a)({},t,Object(o.a)({},a,Object(u.a)({},t[a],{editable:null})))})},n.handleTableChange=function(e){var t=e.target,i=t.value,a=parseInt(t.id),r=n.state.ingredients,l=t.className;switch(l){case"qty":n.setState({ingredients:Object(u.a)({},r,Object(o.a)({},a,Object(u.a)({},r[a],Object(o.a)({},l,C.float(i)))))});break;default:n.setState({ingredients:Object(u.a)({},r,Object(o.a)({},a,Object(u.a)({},r[a],Object(o.a)({},l,i))))})}},n.handleSubmitReset=function(){return n.setState(Object(u.a)({},n.defaultState))},n.nextid=0,n.defaultState={editableTitle:!1,title:"",editableServings:!1,servings:1,ingredients:{},list:[]},n.state=n.defaultState,n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"new-recipe"},a.a.createElement(v,{topBar:"Add new recipe",editableTitle:this.state.editableTitle,editableServings:this.state.editableServings,title:this.state.title,onTitleClick:this.handleTitleClick,onTitleEnterKey:this.handleTitleEnterKey,onTitleBlur:this.handleTitleBlur,onUpdateTitle:this.updateTitle,servings:this.state.servings,onServingsClick:this.handleServingsClick,onServingsEnterKey:this.handleServingsEnterKey,onServingsBlur:this.handleServingsBlur,onUpdateServings:this.updateServings}),a.a.createElement(T,{onAddIngredient:this.handleAddIngredient,ingredients:this.state.ingredients,onTableChange:this.handleTableChange,onTableClick:this.handleTableClick,onTableEnterKey:this.handleTableEnterKey,onTableBlur:this.handleTableBlur}),a.a.createElement("div",null,a.a.createElement(S,{title:this.state.title,servings:this.state.servings,ingredients:this.state.ingredients,onSubmitReset:this.handleSubmitReset})))}}]),t}(a.a.Component),N=(n(35),"pick a recipe to edit"),B=function(e){var t=function(e){return e.recipes}(e),n=function(e){return e.selections.selectedRecipe.recipe?e.selections.selectedRecipe.recipe:N}(e);return y.a.values(t).filter(function(e){return e.title===n})},I=function(e){return e.selections.selectedRecipe.recipe&&e.recipes?y.a.values(B(e))[0]:{}},w=function(e){function t(){var e,n;Object(d.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){setTimeout(function(){n.props.selectRecipe(e),n.props.editRecipe(n.props.selected)},1e3)},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.recipes;return a.a.createElement("div",{className:"recipe-list"},a.a.createElement("h2",{className:"title"},"The recipes"),a.a.createElement("div",{className:"recipe-list-block"},y.a.keys(t).map(function(t){return a.a.createElement("button",{className:"recipe-list-item",key:"recipe-"+t,onClick:function(){return e.handleClick(t)}},t)})))}}]),t}(a.a.Component);var R=Object(E.b)(function(e){return{recipes:e.recipes,selected:I(e)}},{editRecipe:function(e){return{type:"EDIT_RECIPE",payload:{recipe:e}}},selectRecipe:function(e){return{type:"SELECT_RECIPE",payload:{recipe:e}}}})(w),_=function(e){function t(){var e,n;Object(d.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).handleGetIngredients=function(e){return e||{}},n.handleGetServings=function(e){return e||0},n.handleGetTitle=function(e){return e||""===e?e:N},n.handleTitleClick=function(e){return e.target.innerHTML!==N?n.props.toggleTitle(e.target.innerHTML):null},n.handleUpdateTitle=function(e){n.props.updateTitle(e)},n.handleTitleEnterKey=function(e){13===(e.keyCode||e.which)&&n.props.toggleTitle()},n.handleTitleBlur=function(){return n.props.edited.editableTitle?n.props.toggleTitle():null},n.handleServingsEnterKey=function(e){13===(e.keyCode||e.which)&&n.props.toggleServings()},n.handleServingsClick=function(e){return 0!==e?n.props.toggleServings():null},n.handleUpdateServings=function(e){return n.props.updateServings(C.integer(e))},n.handleServingsBlur=function(){return n.props.edited.editableServings?n.props.toggleServings():null},n.handleTableClick=function(e){n.props.edited.ingredients;var t=e.target,i=t.className,a=parseInt(t.id);n.props.toggleTable(a,i)},n.handleTableEnterKey=function(e){n.props.edited.ingredients;var t=e.target,i=parseInt(t.id);13===(e.keyCode||e.which)&&n.props.toggleTable(i,null)},n.handleTableBlur=function(e){n.props.edited.ingredients;var t=e.target,i=parseInt(t.id);n.props.toggleTable(i,null)},n.handleTableChange=function(e){var t=e.target,i=t.value,a=parseInt(t.id),r=(n.props.edited.ingredients,t.className);switch(r){case"qty":n.props.updateTable(a,r,C.float(i));break;default:n.props.updateTable(a,r,i)}},n.handleSubmitReset=function(){return n.props.resetOnSubmit()},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){var t=this;return a.a.createElement("div",{className:"edit-recipe"},a.a.createElement(v,{topBar:"Edit recipe",title:this.handleGetTitle(this.props.edited.title),editableTitle:this.props.edited.editableTitle,editableServings:this.props.edited.editableServings,servings:this.handleGetServings(this.props.edited.servings),onTitleClick:this.handleTitleClick,onTitleEnterKey:this.handleTitleEnterKey,onTitleBlur:this.handleTitleBlur,onUpdateTitle:this.handleUpdateTitle,onServingsClick:function(){return t.handleServingsClick(t.props.edited.servings)},onUpdateServings:this.handleUpdateServings,onServingsEnterKey:this.handleServingsEnterKey,onServingsBlur:this.handleServingsBlur}),a.a.createElement(K,{key:"ingredients-"+this.props.edited.title,ingredients:this.handleGetIngredients(this.props.edited.ingredients),onTableClick:this.handleTableClick,onTableEnterKey:this.handleTableEnterKey,onTableBlur:this.handleTableBlur,onTableChange:this.handleTableChange}),a.a.createElement(S,{title:this.props.edited.title,servings:this.props.edited.servings,ingredients:this.props.edited.ingredients,onSubmitReset:this.handleSubmitReset}))}}]),t}(a.a.Component),K=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return a.a.createElement("div",null,a.a.createElement(m,{onAddIngredient:this.props.onAddIngredient,ingredients:this.props.ingredients,onTableChange:this.props.onTableChange,onTableClick:this.props.onTableClick,onTableEnterKey:this.props.onTableEnterKey,onTableBlur:this.props.onTableBlur}))}}]),t}(a.a.Component),A=Object(E.b)(function(e){var t;return{edited:(t=e).editedRecipe.recipe?t.editedRecipe.recipe:{}}},{toggleTitle:function(e){return{type:"TOGGLE_TITLE",payload:{title:e}}},toggleServings:function(e,t){return{type:"TOGGLE_SERVINGS",payload:{title:e,servings:t}}},updateTitle:function(e){return{type:"UPDATE_TITLE",payload:{title:e}}},updateServings:function(e){return{type:"UPDATE_SERVINGS",payload:{servings:e}}},toggleTable:function(e,t){return{type:"TOGGLE_TABLE",payload:{id:e,className:t}}},updateTable:function(e,t,n){return{type:"UPDATE_TABLE",payload:{id:e,className:t,value:n}}},resetOnSubmit:function(){return{type:"RESET_ON_SUBMIT"}}})(_);function G(){return a.a.createElement("button",null,"cook")}var U=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}),a.a.createElement(G,null),a.a.createElement("h2",{className:"App-title"},"Weekly shopping")),a.a.createElement("div",{className:"recipes-panel"},a.a.createElement(k,null),a.a.createElement(R,null),a.a.createElement(A,null)))},D=n(12),L={"rice pudding":{title:"rice pudding",servings:2,editableTitle:!1,editableServings:!1,ingredients:{1:{name:"rice",qty:50,unit:"gr",editable:null},2:{name:"unsalted butter",qty:25,unit:"gr",editable:null},3:{name:"whole milk",qty:500,unit:"ml",editable:null},4:{name:"caster sugar",qty:25,unit:"gr",editable:null}}},"mash potatoes":{title:"mash potatoes",editableTitle:!1,editableServings:!1,servings:5,ingredients:{1:{name:"potatoes",qty:1,unit:"kg",editable:null},2:{name:"whole milk",qty:250,unit:"ml",editable:null},3:{name:"butter",qty:50,unit:"gr",editable:null},4:{name:"salt",qty:2,unit:"gr",editable:null}}}},q={selectedRecipe:{}},P=n(18),F={recipe:{}},V=Object(D.b)({recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECIPE":var n=t.payload,i=n.recipe,a=n.content;return Object(u.a)({},e,e.recipes,Object(o.a)({},i,a));default:return e}},selections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_RECIPE":var n=t.payload.recipe;return Object(u.a)({},e,{selectedRecipe:{recipe:n}});default:return e}},editedRecipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_RECIPE":return{recipe:t.payload.recipe};case"TOGGLE_TITLE":return Object(P.a)(t.payload),Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{editableTitle:!e.recipe.editableTitle})});case"TOGGLE_SERVINGS":return Object(P.a)(t.payload),Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{editableServings:!e.recipe.editableServings})});case"UPDATE_TITLE":var n=t.payload.title;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{title:n})});case"UPDATE_SERVINGS":var i=t.payload.servings;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{servings:i})});case"TOGGLE_TABLE":var a=t.payload,r=a.id,l=a.className;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{ingredients:Object(u.a)({},e.recipe.ingredients,Object(o.a)({},r,Object(u.a)({},e.recipe.ingredients[r],{editable:l})))})});case"UPDATE_TABLE":var s=t.payload,c=s.id,d=s.className,p=s.value;return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe,{ingredients:Object(u.a)({},e.recipe.ingredients,Object(o.a)({},c,Object(u.a)({},e.recipe.ingredients[c],Object(o.a)({},d,p))))})});case"RESET_ON_SUBMIT":return Object(u.a)({},e,{recipe:{}});default:return e}}}),x=Object(D.c)(V,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(a.a.createElement(E.a,{store:x},a.a.createElement(U,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.59bebbf9.chunk.js.map